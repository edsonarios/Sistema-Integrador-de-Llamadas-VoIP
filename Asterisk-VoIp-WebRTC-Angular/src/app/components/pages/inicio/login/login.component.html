<section class="login">
    <div class="login__body">
        <form class="login__login" [formGroup]="loginForm" (ngSubmit)="enviar()" *ngIf="conected == false; else WelcomeBlock">
            <div class="login__login--titulo">
                <h2>INICIAR SESIÃ“N</h2>
            </div>

            <div class="login__login--form">
                <div *ngIf="wrong" class="alert alert-danger" role="alert">
                    Error en password o usuario verifique sus datos
                </div>
                <div class="form-group">
                    <label class="login__login--label" for="username">Usuario/Email</label>
                    <input type="text" formControlName="username" class="form-control" [ngClass]="{ 'is-invalid': submitted && f.username.errors }" />
                    <div *ngIf="submitted && f.username.errors" class="invalid-feedback">
                        <div *ngIf="f.username.errors.required">Llenar este campo es obligatorio</div>
                    </div>
                </div>
                <div class="form-group">
                    <label class="login__login--label" for="password">Password</label>
                    <input type="password" formControlName="password" class="form-control" [ngClass]="{ 'is-invalid': submitted && f.password.errors }" />
                    <div *ngIf="submitted && f.password.errors" class="invalid-feedback">
                        <div *ngIf="f.password.errors.required">Llenar este campo es obligatorio</div>
                    </div>
                    <label class="label-left">
                        Mantener Sesion
                    </label>
                </div>
                <div class="form-group">
                    <button [disabled]="loading" class="btn btn-primary login__login--btn">
                        <span *ngIf="loading" class="spinner-border spinner-border-sm mr-1"></span>
                        Login
                    </button>
                    <hr />
                </div>
            </div>
        </form>
        <ng-template #WelcomeBlock>
            <form class="login__login">
                <div *ngIf="Sip_Iax['0'].length == 0 && Sip_Iax['1'].length == 0">
                    <br />
                    <span align="center" style="color: red;"><h4>Usted no posee ningun Numero SIP / Iax</h4></span>
                    <div class="col-md-12">
                        <div class="col-md-4 offset-4">
                            <button type="button" class="btn btn-primary btn-block" [routerLink]="['/Operador/Historial']">
                                Aceptar
                            </button>
                        </div>
                    </div>
                </div>
            </form>
        </ng-template>
    </div>

    <div class="login__footer">
        <h6>&copy; 2020 PATELECOM S.R.L. Todos los derechos reservados</h6>
    </div>
</section>

<!-- 
0 al 1999 Operadores
2000 al 2999 Sips Normales
3000 al 3999 Sips Webrtc
4000 al 4999 Iax
5000 al 5999 Radios
-->
